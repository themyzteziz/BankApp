@page "/"

@if (locked)
{
    <h3>Enter PIN</h3>

    <input @bind="pin" type="password" />

    <button @onclick="CheckPin">Unlock</button>

    @if (errorMessage is not null)
    {
        <p style="color:red">@errorMessage</p>
    }
}
else
{
    <h2>MS Bank</h2>
    <p>Welcome! Here you can create accounts, make transfers, view your accounts, make deposits and withdrawals, and see your history.</p>

    <button @onclick="Locked">Lock</button>
}

@code {

    bool locked = true;
    string pin = "";
    string correctPin = "1234"; // Correct PIN code
    string? errorMessage;

    /// <summary>
    /// Checks if the entered PIN is correct.
    /// </summary>
    void CheckPin()
    {
        if (pin == correctPin)
        {
            locked = false;
            errorMessage = null;
        }
        else
        {
            errorMessage = "Incorrect PIN.";
            pin = "";
        }
    }

    /// <summary>
    /// Locks the bank interface.
    /// </summary>
    void Locked()
    {
        locked = true;
        pin = "";
    }
}
